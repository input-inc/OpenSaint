YUI.add("yg-instrumentation",function(d){var c=null,b=false,a=null;d.namespace("Groups.Instrumentation");d.Groups.Instrumentation=function(f){var e=this;this.config=f;this.pageParams="";this.rapidEnabled=(f.rapidEnabled=="true")?true:false;this.rapidDestroy=function(){if(this.rapidEnabled&&d.Lang.isFunction(a.destroy)){a.destroy()}};this.getBeaconKeys=function(m){var k={},l,n,g,j=d.one("#"+m);if(j&&j.hasAttribute("data-ylk")){l=j.getAttribute("data-ylk");if(l){l=l.split(";");n=l.length;for(var h=0;h<n;h++){if(l[h]){g=l[h].split(":");k[g[0]]=g[1]}}}}return k};this.beaconClick=function(n,h,m,j,o,g){if(this.rapidEnabled){var l,p,k;p=this.getBeaconKeys(n);k=typeof j!="undefined"&&j;if(!k){p.itc=1}if(typeof o!="undefined"&&o&&d.Lang.isObject(o)){for(l in o){p[l]=o[l]}}if(typeof g!="undefined"&&g){a.beaconClick(n,h,m,p,g)}else{a.beaconClick(n,h,m,p)}if(k){this.firePageBeacon()}}};this.beaconEvent=function(m,g,k,l,h){if(this.rapidEnabled){var j,n;j=this.getBeaconKeys(m);n=typeof l!="undefined"&&l;if(!n){j.itc=1}if(typeof h!="undefined"&&h&&d.Lang.isObject(h)){j=h;for(i in h){j[i]=h[i]}}a.beaconEvent(g,j,k)}};this.refreshModule=function(j,h){if(this.rapidEnabled){var g=d.one("#"+j);if(g&&g.hasAttribute("data-ylk")){a.refreshModule(j,h)}}};this.firePageBeacon=function(j,h,g){if(this.rapidEnabled){var k;k=d.clone(this.pageParams);if(typeof j!="undefined"){k.vt=j}if(j.indexOf("scroll")!=-1&&typeof h!="undefined"&&h!=null&&d.one("#"+h)){this.beaconClick(h,"scroll",1,false)}if(typeof g!="undefined"){k.zone=g}a.beaconPageview(k);if(typeof ygComscoreBeacon!="undefined"&&typeof ygComscoreBeacon==="function"){ygComscoreBeacon(this.config.spaceId)}}};this.getRapidContent=function(){var g,h=document.location.pathname.split("/",6);g=(GROUPS.YG_SIGNED_IN!=""&&GROUPS.YG_NO_SUBSCRIPTION=="")?"latestupdates":"sohomepage";if(typeof h[4]!="undefined"){if(h[4]=="search"){g=h[4]+h[5]}else{g=h[4]}}else{if(typeof h[3]!="undefined"){g="browsegroups"}}return g};this.updateRapidParams=function(j){if(this.rapidEnabled){var l=this.getRapidContent(),h=d.one(".yg-grid.yg-rapid"),k=null,o=null,m=d.one("#yg-grp-main-img");j.vt="";j.grpcat="";j.pcat1="";j.pcat2="";j.role="";if(m){var g,n=m.getAttribute("data-ctree");if(n){g=n.split(",");if(typeof g[0]!="undefined"){j.pcat1=g[0]}if(typeof g[1]!="undefined"){j.pcat2=g[1]}}if(m.getAttribute("data-role").length){j.role=m.getAttribute("data-role")}if(m.getAttribute("data-gstatus").length){j.pgrpst=m.getAttribute("data-gstatus")}j.grpcat=m.getAttribute("data-category");if(m.getAttribute("data-group").length){j.pgrp=m.getAttribute("data-group")}}if(h){k=h.getAttribute("data-ylk");o=k.match(/v:(.+?);/);if(o[1]){j.vt=o[1]}}j.pct=l;j.tracked_mods=this.getTrackedMods(l)}return j};this.removeModule=function(g){if(this.rapidEnabled){if(a.isModuleTracked(g)){a.removeModule(g)}}};this.addModules=function(h){if(this.rapidEnabled){var k,g,l,j=[];if(d.Lang.isArray(h)){j=h}else{j.push(h);k=d.one("#"+h);k.addClass("yg-rapid yg-no-follow");l=k.getAttribute("data-ref");if(l&&d.one("#"+l)){g=d.one("#"+l).getAttribute("data-ylk");g=g.replace(/zone:(.*?);/,"zone:"+k.getAttribute("data-zone")+";");g=g.replace(/v:(.*?);/,"v:"+k.getAttribute("data-v")+";");k.setAttribute("data-ylk",g)}}a.addModules(j,false)}};this.getTrackedMods=function(r){var j=d.all(".yg-rapid"),s,h="",o="",l="",k="",g="",u="",n="",m="",q=[],p=[],t=d.one("#yg-grp-main-img");if(t){h=t.getAttribute("data-category");o=t.getAttribute("data-group");k=t.getAttribute("data-ctree");if(k){l=k.split(",");if(typeof l[0]!="undefined"){g=l[0]}if(typeof l[1]!="undefined"){u=l[1]}}if(t.getAttribute("data-role").length){m=t.getAttribute("data-role")}if(t.getAttribute("data-gstatus").length){n=t.getAttribute("data-gstatus")}}j.addClass("yg-no-follow");if(r){j.each(function(v){q=[];s=v.getAttribute("data-ylk");s=s.replace(/ct:(.+?);/,"ct:"+r+";");if(s.indexOf("pstcat")!="-1"&&h){s=s.replace(/pstcat:(.*?);/,"pstcat:"+h+";")}else{if(h!=""){q.push("pstcat:"+h)}}if(s.indexOf("grp")!="-1"&&o){s=s.replace(/grp:(.*?);/,"grp:"+o+";")}else{if(o!=""){q.push("grp:"+o)}}if(s.indexOf("grpst")!="-1"&&n){s=s.replace(/grpst:(.*?);/,"grpst:"+n+";")}else{if(n!=""){q.push("grpst:"+n)}}if(s.indexOf("cat1")!="-1"&&g){s=s.replace(/cat1:(.*?);/,"cat1:"+g+";")}else{if(g!=""){q.push("cat1:"+g)}}if(s.indexOf("cat2")!="-1"&&u){s=s.replace(/cat2:(.*?);/,"cat2:"+u+";")}else{if(u!=""){q.push("cat2:"+u)}}if(s.indexOf("userlvl")!="-1"&&m){s=s.replace(/userlvl:(.*?);/,"userlvl:"+m+";")}else{if(m!=""){q.push("userlvl:"+m)}}s+=(s.substring(s.length-1)==";")?q.join(";"):";"+q.join(";");v.setAttribute("data-ylk",s);p.push(v.get("id"))})}else{j.each(function(v){p.push(v.get("id"))})}p=d.Array.dedupe(p);return p};this.init=function(){if(typeof ygComscoreBeacon!="undefined"&&typeof ygComscoreBeacon==="function"){ygComscoreBeacon(this.config.spaceId)}if(this.rapidEnabled){var h=[],g={};if(typeof this.config.tracked_mods=="undefined"){h=this.getTrackedMods(this.config.pct)}else{h=this.config.tracked_mods}g={mrkt:GROUPS.LANG,A_pn:"Yahoo! Groups",A_pt:"Groups Home"};if(this.config.pct){g.pct=this.config.pct}if(this.config.vt){g.vt=this.config.vt}if(this.config.grpcat){g.grpcat=this.config.grpcat}if(this.config.pcat1){g.pcat1=this.config.pcat1}if(this.config.pcat2){g.pcat2=this.config.pcat2}if(this.config.pgrp){g.pgrp=this.config.pgrp}if(this.config.pgrpst){g.pgrpst=this.config.pgrpst}if(this.config.role){g.role=this.config.role}if(this.config.query){g.query=this.config.query}if(this.config.mtest){g.mtest=this.config.mtest}g.login=this.config.login;YAHOO.i13n.YWA_CF_MAP={spaceid:7,click:12,test:14,scrollup:15,scrolldown:16,hover:17,sec:18,slk:19,pos:20,zone:21,ct:22,v:23,userlvl:24,pstcat:25,grp:26,cat1:27,intl:28,open:29,fetch:30,rmct:32,login:45,mrkt:46,close:34,filter:35,connect:36,sort:39,cat2:40,grpst:41,msgview:47,share:51,top:52,reply:53,send:55,numlinks:56,numprv:57,numret:58,pollid:61,gsrc:62,mtest:64,itc:66,clps:109,xpnd:110,expt:122,impt:123,prnt:124,pct:11,vt:13,grpcat:10,pcat1:8,pcat2:9,role:42,pgrpst:44,pgrp:43};YAHOO.i13n.YWA_OUTCOME_MAP={enhancr:96};this.pageParams=g;YAHOO.i13n.SPACEID=this.config.spaceId;YAHOO.i13n.TEST_ID=this.config.bucket;YAHOO.i13n.WEBWORKER_FILE="/js/rapid_worker.js";a=new YAHOO.i13n.Rapid({debug:(this.config.debug=="true")?true:false,test_id:this.config.bucket,webworker_file:"/js/rapid_worker.js",spaceid:this.config.spaceId,client_only:1,tracked_mods:h,nofollow_class:"yg-no-follow",ywa:{project_id:this.config.project_id,cf:{"7":this.config.spaceId,"14":this.config.bucket},host:this.config.hostname},keys:g});a.init()}};this.init()}});YUI.add("yahoo-groups",function(a){a.namespace("Groups").Page=a.Base.create("Page",a.Base,[],{_setBodyHeight:function(){var d,e,c=a.one("#yg-left-col").get("offsetHeight"),b=(a.one("#right-rail-container"))?a.one("#right-rail-container").get("offsetHeight"):0;b+=300;d=(b>a.one("#yg-main-content").get("offsetHeight"))?b:a.one("#yg-main-content").get("offsetHeight");e=(c>d)?c:d;a.one("#body-container").setStyle("minHeight",e)},initializer:function(b){a.one(".page-loader").addClass("hide");if(GROUPS.HOST_LEVEL==2){var c=this._getComboUrl(["yg-help-urls.js","yg_api_errormap.js","yg-templates.js","yrb_"+GROUPS.LANG.toLowerCase()+".js"]);a.Get.js(c,{onSuccess:function(){GROUPS.PAGE._init(b)}})}else{this._init(b)}},_init:function(c){var b=this,d=["yg-utils","groups-io","yg-router","yg-handlebars-extension","yg-captcha"];if(!this._isMobile){d.push("yg-create-group")}d.push(function(){b.hasUnsavedChanges=false;b._dockNodeList=a.all(".dockme");b._docNodeOverlayMap={};b._scrollPos=null;b._isSmallScreen=false;b._controlPnlChanges=false;b._isSmallScreen=(a.one("body").get("winWidth")<a.Groups.Page.MOBILE_MAX_WIDTH);b._isMobile=(a.one("body").getAttribute("data-device")=="mobile");b._isTablet=(a.one("body").getAttribute("data-device")=="tablet");b._isIOS=(a.one("body").getAttribute("data-ios")==1);b._isDeskTop=(a.one("body").get("winWidth")>a.Groups.Page.DESKTOP_MIN_WIDTH);b._mbAds=[];b._mbAdTemplate="";b._currOverlay=null;b._mbAdCnt=1;b._mbAdEnabled=(c.mbAdsEnabled=="1")?true:false;b.isDNTShown=false;GROUPS.UTILS=new a.Groups.Utils();GROUPS.IO=new a.Groups.IO();GROUPS.DETAIL_IO=new a.Groups.IO();GROUPS.CAPTCHA=new a.Groups.Captcha();if(b._isDeskTop&&!b._isTablet){b._setBodyHeight();b._initTooltip(a.one("#tooltip"))}b._registerListeners(a.one("#yg-left-col"));a.log("Initializing Groups Page object");b._initializeApp();b._checkForErrors();if(!b._isMobile){b._initCreateGroup()}if(b._isIOS){b._fixForVirtualKeyboardOnIos()}GROUPS.UTILS.changeHelpUrl();b._initHelpIcon();a.one("body").delegate("click",GROUPS.UTILS.showMobilePreview,".mobilePreviewRightRail");b._initMobilePVSearch();if(b._isTablet){b._listenSideBarRevealBtn()}if(a.one("#yg-leftnav-gta")){a.one("#yg-leftnav-gta").removeClass("hidden")}if(a.one("#yg-mobile-pv")){a.one("#yg-mobile-pv").addClass("mobilePreviewRightRail-bg")}});a.use.apply(a,d)},_listenSideBarRevealBtn:function(){a.one("body").delegate("tap",function(c){if(GROUPS.NAVBAR){GROUPS.NAVBAR.settMenuOverlay&&GROUPS.NAVBAR.settMenuOverlay.hide();GROUPS.NAVBAR.memMenuOverlay&&GROUPS.NAVBAR.memMenuOverlay.hide()}var b=GROUPS.UTILS.getCurrentOverlay();b&&b.hide()},".ct-reveal-btn")},_initMobilePVSearch:function(){if(GROUPS.MOBILE_PV){a.one("#p").on("key",this._mobilePVSearchHandler,"down:13");a.one("#yucs").delegate("click",this._mobilePVSearchHandler,"#yucs-btn-search");a.one("#p").on("blur",this._mobilePVSearchBlur)}},_mobilePVSearchBlur:function(b){setTimeout(function(){if(GROUPS.UTILS.getUHElement("#yucs-search").hasClass("yucs-hidden")){a.one("#p").set("value","")}},500)},_mobilePVSearchHandler:function(f){f.halt();var d=a.one("#p");var c=d.get("value");if(c){var b=d.ancestor("form").getAttribute("action");d.set("value","");window.location=b+"?_mobilepv=1&p="+c}},_initHelpIcon:function(){a.one("body").delegate("click",function(b){if(typeof(YUI.YHELP)!="undefined"){b.halt();YUI.YHELP.initiate()}},"#helpnav > a")},_initPlaceHolder:function(){var b=function(g,h){var f=g.currentTarget,d=f.getAttribute("placeholder"),c=GROUPS.UTILS.isPlaceholderSupported();if(d!==""&&!c){if(h==="focus"){if(f.get("value")===d){f.set("value","")}}else{if(f.get("value")===""){g.currentTarget.set("value",d)}}}};a.one("body").delegate("focus",function(c){b(c,"focus")},"input");a.one("body").delegate("blur",function(c){b(c,"blur")},"input")},_getFilePath:function(e,c){var b="js";if(e.match(/\.css/)){b="css"}if(GROUPS.HOST_LEVEL==2){var g=(window.location.search.match(/_debug/))?"debug":"min",d="/ru/"+GROUPS.ASSET_VERSION+"/"+g+"/"+b+"/"+e,f=(window.location.protocol=="https:")?"https://s.yimg.com":"http://l.yimg.com";if(c){return d}else{return f+d}}else{return"/"+b+"/"+e}},_getComboPath:function(){if(GROUPS.HOST_LEVEL==2){return(window.location.protocol=="https:")?"https://s.yimg.com/zz/combo?":"http://l.yimg.com/zz/combo?"}else{return window.location.protocol+"//"+window.location.hostname+"/combo?"}},_getComboUrl:function(b){var e=this._getComboPath(),d=[];for(var c in b){d.push(this._getFilePath(b[c],true))}return e+d.join("&")},_fixForVirtualKeyboardOnIos:function(){a.one("body").delegate("focus",this.checkIpFocus,"input[type=text]",this);a.one("body").delegate("focus",this.checkIpFocus,"textarea",this);a.one("body").delegate("blur",this.checkIpBlur,"input[type=text]",this);a.one("body").delegate("blur",this.checkIpBlur,"textarea",this)},checkIpFocus:function(){if(a.one(".ct-box-hd.yui-sv-hd")){a.one(".ct-box-hd.yui-sv-hd").addClass("ios-fixed")}},checkIpBlur:function(){if(a.one(".ct-box-hd.yui-sv-hd")){a.one(".ct-box-hd.yui-sv-hd").removeClass("ios-fixed")}},_initializeApp:function(){GROUPS.ROUTER=new a.Groups.Router({container:a.one("#yg-main-content"),scrollToTop:false,initialLoad:true})},_initializeAds:function(){a.on("contentready",function(){darla_event("LREC");dmrosAd_event()},".yui3-app-views")},_initCreateGroup:function(){this.createGroup=new a.Groups.CreateGroup()},showCreateGroup:function(){this.createGroup.showCreateGroup()},showAds:function(e,d){if(this._isMobile){return}e=(typeof e=="undefined")?true:e;d=(typeof d=="undefined")?true:d;if(typeof darla_event=="function"&&a.one(".yom-ad")&&e===true){if(typeof DARLA=="undefined"){var c="https://s.yimg.com/rq/darla/2-8-3/js/g-r-min.js";a.Get.js(c,function(f){if(!f){darla_event("LREC")}})}else{darla_event("LREC")}}if(window.dmRosAds===undefined){var b="https://s.yimg.com/uv/dm/ad-ros-groups.js";if(window.location.protocol=="http:"){b="http://l.yimg.com/uv/dm/ad-ros-groups.js"}a.Get.js(b,function(f){if(!f&&typeof dmrosAd_event=="function"&&a.all(".yom-domros")&&d===true){a.all(".yom-domros").removeClass("hide");dmrosAd_event()}})}else{if(typeof dmrosAd_event=="function"&&a.all(".yom-domros")&&d===true){a.all(".yom-domros").removeClass("hide");dmrosAd_event()}}},updateNavbarPos:function(){uhDisClaimer=a.one("#yucs-disclaimer"),navbar=a.one("#yg-group-detail-navbar");if(uhDisClaimer&&navbar&&!this.isDNTShown&&this._isMobile){navbar.setStyle("top",44+uhDisClaimer.get("offsetHeight")+"px");uhDisClaimer.delegate("click",function(b){navbar.setStyle("top","45px")},"a.yucs-disclaimer-close");this.isDNTShown=true}},toggleAds:function(b){if(this._isMobile){return}if(typeof DARLA_CONFIG!="undefined"&&DARLA_CONFIG.positions&&typeof DARLA!="undefined"){for(var c in DARLA_CONFIG.positions){if(b){if(a.one("#yom-ad-"+c)){a.one("#yom-ad-"+c).removeClass("hide")}DARLA.render.RenderMgr.show(c)}else{DARLA.render.RenderMgr.hide(c);if(a.one("#yom-ad-"+c)){a.one("#yom-ad-"+c).addClass("hide")}}}}if(a.one(".yom-domros")){if(b){a.one(".yom-domros").removeClass("hide")}else{a.one(".yom-domros").addClass("hide")}}},handleGrpRecovery:function(b){var c=b.target.getData("group");GROUPS.IO.makeRequest("/api/v1/groups/"+c+"?undeleteInactiveGroup=true","POST",{},function(e,d){if(d){GROUPS.UTILS.handleYGAPIErrorMessage("group_recovery",d.ygError.errorCode)}else{if(e){window.location.reload()}}})},_registerListeners:function(b){a.on("scroll",this._handleWindowScroll,a.config.win,this);a.on("domready",this.resizeActionNavBar,a.config.win,this);a.on("resize",this._handleResize,a.config.win,this);a.one("body").delegate("click",this.handleGrpRecovery,"#recover_group",this);a.one("body").delegate("change",function(c){this.hasUnsavedChanges=true},"input");a.one("body").delegate("change",function(c){this.hasUnsavedChanges=true},"textarea");a.one("body").delegate("click",function(c){this.hasUnsavedChanges=false},".btn-cancel");a.one("body").delegate("click",function(c){this.hasUnsavedChanges=false},".save");a.all("body a").on("click",this.checkUnsavedChanges);this._registerInfScrollTopEvents();if(b){b.delegate("click",this.handleMyGroupDelegate,".mygroup")}a.one("body").delegate("click",function(c){a.one(".page-loader").removeClass("hide");a.use("yg-tour",function(d){GROUPS.INSTR.beaconClick("rightrail","product-tour",1,false);new d.Groups.Tour();d.one(".page-loader").addClass("hide")})},".yg-tourimage")},_registerInfScrollTopEvents:function(){a.on("click",function(b){GROUPS.INSTR.beaconClick("center","back-to-top",1,false);window.scrollTo(0,GROUPS.PAGE._scrollPos)},".back-to-top");a.on("clickoutside",function(b){b.currentTarget.ancestor(".scroll-to-search").removeClass("selected").one("input").addClass("hide")},".scroll-to-search input");a.on("click",function(d){d.halt();var c=d.currentTarget.ancestor(),b=c.one("input");if(c.hasClass("selected")){c.removeClass("selected").one("input").addClass("hide")}else{c.addClass("selected").one("input").removeClass("hide");b.focus()}},".scroll-to-search .search-icon")},cacheRecentPhotosNode:function(){if(a.one("#yg-recent-photos")){this.recentPhotosNode=a.one("#yg-recent-photos").cloneNode(true)}},showTooltip:function(d,g,c){var b=a.WidgetPositionAlign,f=d.currentTarget.getAttribute("data-tooltip"),h=d.currentTarget.getAttribute("pos")==""?"right":d.currentTarget.getAttribute("pos");g.setHTML('<div class="yg-sprite pointer '+h+'"></div><div>'+a.Escape.html(f)+"</div>");if(f!=""){switch(h){case"left":c.set("align",{node:d.currentTarget,points:[b.TR,b.TL]});g.replaceClass(tooltipCurPos,"left");break;case"top":c.set("align",{node:d.currentTarget,points:[b.BR,b.TR]});g.replaceClass(tooltipCurPos,"top");g.one(".top").setStyle("right","2px");break;case"bottom":c.set("align",{node:d.currentTarget,points:[b.TR,b.BR]});g.replaceClass(tooltipCurPos,"bottom");g.one(".bottom").setStyle("right","2px");break;default:c.set("align",{node:d.currentTarget,points:[b.TL,b.TR]});g.replaceClass(tooltipCurPos,"right")}g.removeClass("hide");c.show();tooltipCurPos=h}},hideTooltip:function(){if(this.tooltip){this.tooltip.hide()}},_initTooltip:function(d){if(!this.tooltip){this.tooltip=new a.Overlay({visible:false,zIndex:10002,srcNode:d});this.tooltip.render();tooltipCurPos="right"}var c=this.tooltip;var b=a.one("body");b.delegate("mouseenter",function(f){this.showTooltip(f,d,c)},".tip",this);b.delegate("mouseleave",function(f){this.hideTooltip()},".tip",this);this.hideTooltip()},_dockNode:function(){if(a.one(".body-bounding-box").hasClass("popup-fixed")||this._isMobile){return}var e,b,o,m,l,k,g,h=false,p;for(var n=0;n<this._dockNodeList.size();n++){e=this._dockNodeList.item(n);b=a.one(e.getAttribute("data-docktarget"));if(b&&e){m=e.getDOMNode().getBoundingClientRect().top;targetShadow=b.get("parentNode").one(".fixed");if(targetShadow){p=parseInt(targetShadow.getStyle("top"),10);g=p+b.get("offsetHeight")}else{k=b.getDOMNode().getBoundingClientRect().top;g=k+b.get("offsetHeight")}l=g+e.get("offsetHeight")-e.getStyle("borderBottom");if(m<=g&&!e.get("parentNode").one(".fixed")){o=e.cloneNode(true);o.replaceClass("dockme","docked");e.addClass("hidden");o.addClass("fixed");o.setStyle("top",g);o.setStyle("width",e.get("offsetWidth"));o.setStyle("zIndex",8);e.get("parentNode").insertBefore(o,e);if(!this._scrollPos){this._scrollPos=(parseInt(e.getY())-parseInt(b.get("offsetHeight"))+22)}if(typeof this._docNodeOverlayMap[e.get("id")]!="undefined"&&this._docNodeOverlayMap[e.get("id")].length>0){for(var f=0;f<this._docNodeOverlayMap[e.get("id")].length;f++){var d=this._docNodeOverlayMap[e.get("id")][f],q=a.one("#"+d.get("id"));if(q){q.addClass("fixed");q.alignedToClonedNode=true;if(q.getAttribute("data-origTop")==""){q.setAttribute("data-origTop",q.getStyle("top"))}d.align.node=a.one(d.alignNodeSelector);d.alignedToClonedNode=true;d.realign()}}}}else{if(m>g&&e.get("parentNode").one(".fixed")){var j=e.get("parentNode").one(".docked"),c=this._docNodeOverlayMap[e.get("id")];e.setHTML(j.getHTML());e.removeClass("hidden");j.remove(true);if(typeof c!="undefined"&&c.length>0){for(var f=0;f<c.length;f++){var d=c[f],q=a.one("#"+d.get("id"));if(q){q.removeClass("fixed");q.setStyle("top",q.getAttribute("data-origTop"));if(d.alignedToClonedNode){d.align.node=a.one(d.alignNodeSelector);d.realign();d.alignedToClonedNode=false}}}}}}}}},_handleWindowScroll:function(w){var g=a.one("#yg-left-col"),q=a.one("#right-rail-container"),f=a.one("html").get("winHeight"),c=a.DOM.docScrollY(),b=a.one(".inf-scroll-top"),B=a.one(".so-homepage-header-bd"),r=a.one(".so-homepage-header-mask"),A=GROUPS.UTILS.getUHElement("#yucsHead"),k=b.hasClass("hide");if(A){var j=g.get("offsetHeight")+A.get("offsetHeight")+20,v=(B&&!a.one(".so-homepage-header").hasClass("hide"))?B.get("offsetHeight"):0,C=(r)?r.get("offsetHeight"):0;if(B&&!a.one(".so-homepage-header").hasClass("hide")&&(j+C)<f){if(c>285){g.addClass("fixed");g.setStyle("top","182px")}else{g.removeClass("fixed");g.setStyle("top","")}}else{g.setStyle("top","");if((j+v)<=f){g.addClass("fixed");g.removeClass("bottom-fixed")}else{var n=(j+v)-f;if(c>=n){g.addClass("fixed");g.addClass("bottom-fixed")}else{g.removeClass("fixed");g.removeClass("bottom-fixed")}}}if(q!=null){var x=parseInt(q.getAttribute("data-dockpos")),o=(q.getAttribute("data-scrollpos")!="")?parseInt(q.getAttribute("data-scrollpos")):0,y=a.one("#yg-blast-msg"),i=a.one("#yucs-disclaimer");if(y){if(a.one("#yg-main-content").getComputedStyle("width")==y.getComputedStyle("width")){o+=parseInt(y.getComputedStyle("height"))}}var m=x+o-c,u=q.get("offsetHeight"),p=f,z=(u+x>p)?(u+x-p):0;if(m<=x-z){if(!q.hasClass("fixed")&&!q.hasClass("bottom-fixed")){if(z>0){q.addClass("fixed");q.addClass("bottom-fixed")}else{q.addClass("fixed");if(i&&i.get("clientHeight")){x+=i.get("clientHeight")}q.setStyle("top",x+"px")}}}else{q.removeClass("fixed");q.removeClass("bottom-fixed");q.setStyle("top","")}}}if(this.hideTooltip){this.hideTooltip()}if(c>=800&&k){b.removeClass("hide")}else{if(c<800&&!k){b.addClass("hide")}}if(this._mbAdEnabled){this.fireMBADBeacon()}GROUPS.PAGE._dockNode()},_handleResize:function(b){this._isSmallScreen=((a.one("body").get("winWidth")<=a.Groups.Page.MOBILE_MAX_WIDTH)&&(a.one("body").get("winWidth")>=a.Groups.Page.MOBILE_MIN_WIDTH));this._isDeskTop=(a.one("body").get("winWidth")>=a.Groups.Page.DESKTOP_MIN_WIDTH);this.resizeActionNavBar(b)},handleMyGroupDelegate:function(f){var d=f.target;if(d.get("tagName")=="A"){return}var c=f.currentTarget;var b=c.one("a").getAttribute("href");if(GROUPS.PAGE.hasUnsavedChanges===true){GROUPS.UTILS.showWarningBeforeViewChange(b)}else{GROUPS.ROUTER.navigate(b)}},resizeActionNavBar:function(h){var c=a.one("#yg-action-bar"),d=a.one(".yom-nav"),b=a.one(".y-col2 .yg-grid").get("offsetWidth"),f=b;if(!GROUPS.YG_SIGNED_IN||GROUPS.YG_NO_SUBSCRIPTION){f=a.one("#body-container.yg-grid").get("offsetWidth")}var g=c&&c.hasClass("yom-actions-small");if(g){b-=335}if(c&&c.hasClass("fixed")){c.setStyle("width",b);if(d){d.setStyle("width",f)}}},checkUnsavedChanges:function(b){if(GROUPS.PAGE.hasUnsavedChanges===true&&!b.target.ancestor(".yg-no-warn")){b.preventDefault();b.stopPropagation();GROUPS.UTILS.showWarningBeforeViewChange(b.target.get("href"))}},inputTextPlaceholderFocusHandler:function(c){var b=c.target;if(b.get("value")==b.getAttribute("placeholder")){b.set("value","");b.removeClass("fc-gray")}},inputTextPlaceholderBlurHandler:function(c){var b=c.target;if(b.get("value")==""){b.set("value",b.getAttribute("placeholder"));b.addClass("fc-gray")}},closeDialogBox:function(b){GROUPS.INSTR.beaconClick("grp-info","cancel-join-request",7,false);if(b!==undefined){b.hide()}},setPageTitle:function(c){var b="";if(typeof c!="undefined"&&c!=""){b=c+" - "}a.config.win.document.title=b+GROUPS.YRB_STRINGS.STR_PAGE_DEFAULT_TITLE},getAuthToken:function(b,d){try{var c=this;if(!b){b=GROUPS.IO}b.makeRequest("/api/v1/user/auth/token?pv=0","GET",{isPopUp:d},function(g,e){if(e){}else{if(g){var h=a.JSON.parse(g);GROUPS.AUTH_TOKEN=h&&h.ygData}}})}catch(f){GROUPS.AUTH_TOKEN=""}},fillMBAds:function(d,c){if(this._mbAdEnabled){if(typeof c=="undefined"||c==false){this._mbAdCnt=1}var b=a.all(".yg-mb-loading");try{if(this._mbAds.length<b.size()){this._getMBAds(d)}else{this._displayMBAds(d)}}catch(f){this._hideMBAds()}}},_getMBAds:function(c){var b=this;GROUPS.IO.makeRequest("/neo/mbads/?tk=8&bkt="+GROUPS.INSTR_CONFIG.bucket+"&refurl="+window.location,"GET",{},function(e,d){if(d){b._hideMBAds()}else{if(e){var e=a.JSON.parse(e);if(e.ads){b._mbAds=b._mbAds.concat(e.ads);b._displayMBAds(c)}else{b._hideMBAds()}}}})},_displayMBAds:function(g){var c=this,b=0,f="",e="",d,h=a.all(".yg-mb-loading");if(c._mbAds.length>0&&h.size()>0){if(c._mbAdTemplate==""){f=GROUPS.UTILS.getTemplate("mbads_template");c._mbAdTemplate=a.Handlebars.compile(f)}if(typeof g!="undefined"&&g){g=true}else{g=false}h.each(function(j,i){var k;d=c._mbAds.pop();while(d){if(a.one(".yg-mb #"+d.creativeId)){d=c._mbAds.pop()}else{break}}if(d&&d.tag){k=a.JSON.parse(d.tag);k.needgraphic=g;k.thumb=(GROUPS.HTTP_PROTOCOL=="https://")?k.secImage:k.image;e=c._mbAdTemplate({tag:k,beacon:d.beacon,creativeId:d.creativeId,adchoicelink:"http://info.yahoo.com/privacy/us/yahoo/relevantads.html",pos:c._mbAdCnt});j.setHTML(e);j.removeClass("yg-mb-loading");c._mbAdCnt++}else{j.remove(true)}});c.fireMBADBeacon()}},_hideMBAds:function(){var b=a.all(".yg-mb-loading");b.addClass("hide")},fireMBADBeacon:function(){var b=a.all(".yg-mb .not-tracked");b.each(function(e,d){if(e.inViewportRegion()){var c=new Image();c.src=e.getAttribute("data-csc").replace("$(AD_POSN)",e.getAttribute("data-pos"));e.removeClass("not-tracked")}})},getMBADContainer:function(){if(this._mbAdEnabled){var c,b,d=GROUPS.UTILS.getTemplate("mbadsContainer_template");c=a.Handlebars.compile(d);b=c({});return b}else{return""}},attachBlurFocus:function(b){b.on("focus",this.inputTextPlaceholderFocusHandler,this);b.on("blur",this.inputTextPlaceholderBlurHandler,this)},attachClosePanel:function(c,b){c.on("click",function(d){this.closeDialogBox(b)},this)},_checkForErrors:function(){if(typeof GROUPS.API_ERROR_MSGS=="object"&&a.Object.keys(GROUPS.API_ERROR_MSGS).length>0){var j="",g,f,b,e,d,c;for(d in GROUPS.API_ERROR_MSGS){e=d;f=GROUPS.API_ERROR_MSGS[d].e;break}if(f==1101){window.location=GROUPS.LOGIN_URL.replace(/%doneUrl%/g,encodeURIComponent(window.location))}else{if(f==1102){window.location="https://gh.bouncer.login.yahoo.com/login/?done="+encodeURIComponent(window.location)}}if(typeof GROUPS.API_ERROR_MSGS_MAP[e]!="undefined"&&typeof GROUPS.API_ERROR_MSGS_MAP[e][f]!="undefined"){g=GROUPS.API_ERROR_MSGS_MAP[e][f]}else{if(typeof GROUPS.API_ERROR_MSGS_MAP.common_errors[f]!="undefined"){g=GROUPS.API_ERROR_MSGS_MAP.common_errors[f]}else{g="STR_ERROR_DEFAULT"}}c=GROUPS.YRB_STRINGS.ERROR_STRINGS[g];if(f==2102){c=c.replace("{0}","<a href='/neo/dir'>").replace("{1}","</a>").replace("{2}","<a href='javascript:GROUPS.PAGE.showCreateGroup();'>").replace("{3}","</a>")}if(f==2109){var h=a.one("#yg-grp-main-img")?a.one("#yg-grp-main-img").getData("group"):"";c=c.replace("{0}","<a id='recover_group' data-group='"+h+"'>").replace("{1}","</a>")}a.one("#yg-error-message").setHTML(c);b=a.one("#yg-error-container");b.removeClass("hide");b.one("#yg-error-cross").on("click",function(i){a.one("#yg-error-container").addClass("hide")},this)}}},{MOBILE_MAX_WIDTH:767,MOBILE_MIN_WIDTH:320,DESKTOP_MIN_WIDTH:768})},"0.1",{});/*
YUI 3.15.0 (build 834026e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-custom-complex",function(e,t){var n,r,i=e.Object,s,o={},u=e.CustomEvent.prototype,a=e.EventTarget.prototype,f=function(e,t){var n;for(n in t)r.hasOwnProperty(n)||(e[n]=t[n])};e.EventFacade=function(e,t){e||(e=o),this._event=e,this.details=e.details,this.type=e.type,this._type=e.type,this.target=e.target,this.currentTarget=t,this.relatedTarget=e.relatedTarget},e.mix(e.EventFacade.prototype,{stopPropagation:function(){this._event.stopPropagation(),this.stopped=1},stopImmediatePropagation:function(){this._event.stopImmediatePropagation(),this.stopped=2},preventDefault:function(){this._event.preventDefault(),this.prevented=1},halt:function(e){this._event.halt(e),this.prevented=1,this.stopped=e?2:1}}),u.fireComplex=function(t){var n,r,i,s,o,u=!0,a,f,l,c,h,p,d,v,m,g=this,y=g.host||g,b,w,E=g.stack,S=y._yuievt,x;if(E&&g.queuable&&g.type!==E.next.type)return E.queue||(E.queue=[]),E.queue.push([g,t]),!0;x=g.hasSubs()||S.hasTargets||g.broadcast,g.target=g.target||y,g.currentTarget=y,g.details=t.concat();if(x){n=E||{id:g.id,next:g,silent:g.silent,stopped:0,prevented:0,bubbling:null,type:g.type,defaultTargetOnly:g.defaultTargetOnly},f=g.getSubs(),l=f[0],c=f[1],g.stopped=g.type!==n.type?0:n.stopped,g.prevented=g.type!==n.type?0:n.prevented,g.stoppedFn&&(a=new e.EventTarget({fireOnce:!0,context:y}),g.events=a,a.on("stopped",g.stoppedFn)),g._facade=null,r=g._createFacade(t),l&&g._procSubs(l,t,r),g.bubbles&&y.bubble&&!g.stopped&&(w=n.bubbling,n.bubbling=g.type,n.type!==g.type&&(n.stopped=0,n.prevented=0),u=y.bubble(g,t,null,n),g.stopped=Math.max(g.stopped,n.stopped),g.prevented=Math.max(g.prevented,n.prevented),n.bubbling=w),d=g.prevented,d?(v=g.preventedFn,v&&v.apply(y,t)):(m=g.defaultFn,m&&(!g.defaultTargetOnly&&!n.defaultTargetOnly||y===r.target)&&m.apply(y,t)),g.broadcast&&g._broadcast(t);if(c&&!g.prevented&&g.stopped<2){h=n.afterQueue;if(n.id===g.id||g.type!==S.bubbling){g._procSubs(c,t,r);if(h)while(b=h.last())b()}else p=c,n.execDefaultCnt&&(p=e.merge(p),e.each(p,function(e){e.postponed=!0})),h||(n.afterQueue=new e.Queue),n.afterQueue.add(function(){g._procSubs(p,t,r)})}g.target=null;if(n.id===g.id){s=n.queue;if(s)while(s.length)i=s.pop(),o=i[0],n.next=o,o._fire(i[1]);g.stack=null}u=!g.stopped,g.type!==S.bubbling&&(n.stopped=0,n.prevented=0,g.stopped=0,g.prevented=0)}else m=g.defaultFn,m&&(r=g._createFacade(t),(!g.defaultTargetOnly||y===r.target)&&m.apply(y,t));return g._facade=null,u},u._hasPotentialSubscribers=function(){return this.hasSubs()||this.host._yuievt.hasTargets||this.broadcast},u._createFacade=u._getFacade=function(t){var n=this.details,r=n&&n[0],i=r&&typeof r=="object",s=this._facade;return s||(s=new e.EventFacade(this,this.currentTarget)),i?(f(s,r),r.type&&(s.type=r.type),t&&(t[0]=s)):t&&t.unshift(s),s.details=this.details,s.target=this.originalTarget||this.target,s.currentTarget=this.currentTarget,s.stopped=0,s.prevented=0,this._facade=s,this._facade},u._addFacadeToArgs=function(e){var t=e[0];t&&t.halt&&t.stopImmediatePropagation&&t.stopPropagation&&t._event||this._createFacade(e)},u.stopPropagation=function(){this.stopped=1,this.stack&&(this.stack.stopped=1),this.events&&this.events.fire("stopped",this)},u.stopImmediatePropagation=function(){this.stopped=2,this.stack&&(this.stack.stopped=2),this.events&&this.events.fire("stopped",this)},u.preventDefault=function(){this.preventable&&(this.prevented=1,this.stack&&(this.stack.prevented=1))},u.halt=function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()},a.addTarget=function(t){var n=this._yuievt;return n.targets||(n.targets={}),n.targets[e.stamp(t)]=t,n.hasTargets=!0,this},a.getTargets=function(){var e=this._yuievt.targets;return e?i.values(e):[]},a.removeTarget=function(t){var n=this._yuievt.targets;return n&&(delete n[e.stamp(t,!0)],i.size(n)===0&&(this._yuievt.hasTargets=!1)),this},a.bubble=function(e,t,n,r){var i=this._yuievt.targets,s=!0,o,u,a,f,l,c=e&&e.type,h=n||e&&e.target||this,p;if(!e||!e.stopped&&i)for(a in i)if(i.hasOwnProperty(a)){o=i[a],u=o._yuievt.events[c],o._hasSiblings&&(l=o.getSibling(c,u)),l&&!u&&(u=o.publish(c)),p=o._yuievt.bubbling,o._yuievt.bubbling=c;if(!u)o._yuievt.hasTargets&&o.bubble(e,t,h,r);else{l&&(u.sibling=l),u.target=h,u.originalTarget=h,u.currentTarget=o,f=u.broadcast,u.broadcast=!1,u.emitFacade=!0,u.stack=r,s=s&&u.fire.apply(u,t||e.details||[]),u.broadcast=f,u.originalTarget=null;if(u.stopped)break}o._yuievt.bubbling=p}return s},a._hasPotentialSubscribers=function(e){var t=this._yuievt,n=t.events[e];return n?n.hasSubs()||t.hasTargets||n.broadcast:!1},n=new e.EventFacade,r={};for(s in n)r[s]=!0},"3.15.0",{requires:["event-custom-base"]});
/*
YUI 3.15.0 (build 834026e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-base",function(e,t){function r(){this._plugins={}}var n=e.Lang;r.prototype={plug:function(e,t){var r,i,s;if(n.isArray(e))for(r=0,i=e.length;r<i;r++)this.plug(e[r]);else e&&!n.isFunction(e)&&(t=e.cfg,e=e.fn),e&&e.NS&&(s=e.NS,t=t||{},t.host=this,this.hasPlugin(s)?this[s].setAttrs&&this[s].setAttrs(t):(this[s]=new e(t),this._plugins[s]=e));return this},unplug:function(e){var t=e,r=this._plugins;if(e)n.isFunction(e)&&(t=e.NS,t&&(!r[t]||r[t]!==e)&&(t=null)),t&&(this[t]&&(this[t].destroy&&this[t].destroy(),delete this[t]),r[t]&&delete r[t]);else for(t in this._plugins)this._plugins.hasOwnProperty(t)&&this.unplug(t);return this},hasPlugin:function(e){return this._plugins[e]&&this[e]},_initPlugins:function(e){this._plugins=this._plugins||{},this._initConfigPlugins&&this._initConfigPlugins(e)},_destroyPlugins:function(){this.unplug()}},e.namespace("Plugin").Host=r},"3.15.0",{requires:["yui-base"]});
/*
YUI 3.15.0 (build 834026e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-config",function(e,t){var n=e.Plugin.Host,r=e.Lang;n.prototype._initConfigPlugins=function(t){var n=this._getClasses?this._getClasses():[this.constructor],r=[],i={},s,o,u,a,f;for(o=n.length-1;o>=0;o--)s=n[o],a=s._UNPLUG,a&&e.mix(i,a,!0),u=s._PLUG,u&&e.mix(r,u,!0);for(f in r)r.hasOwnProperty(f)&&(i[f]||this.plug(r[f]));t&&t.plugins&&this.plug(t.plugins)},n.plug=function(t,n,i){var s,o,u,a;if(t!==e.Base){t._PLUG=t._PLUG||{},r.isArray(n)||(i&&(n={fn:n,cfg:i}),n=[n]);for(o=0,u=n.length;o<u;o++)s=n[o],a=s.NAME||s.fn.NAME,t._PLUG[a]=s}},n.unplug=function(t,n){var i,s,o,u;if(t!==e.Base){t._UNPLUG=t._UNPLUG||{},r.isArray(n)||(n=[n]);for(s=0,o=n.length;s<o;s++)i=n[s],u=i.NAME,t._PLUG[u]?delete t._PLUG[u]:t._UNPLUG[u]=i}}},"3.15.0",{requires:["pluginhost-base"]});
